{"version":3,"sources":["components/modal-window/modal-styles.module.css","components/gallery/common-styles.module.css","components/search-bar/SearchBar.js","components/gallery/ImageGalleryItem.js","services/fetchAPI.js","components/load-more/ButtonLoadMore.js","components/modal-window/Modal.js","components/gallery/ImageGallery.js","App.js","reportWebVitals.js","index.js","components/search-bar/searchBar-styles.module.css"],"names":["module","exports","SearchBar","onSubmit","useState","value","setValue","className","s","header","event","preventDefault","trim","alert","form","type","btn","name","search","autoComplete","autoFocus","placeholder","onChange","target","ImageGalleryItem","src","alt","id","click","item","img","height","width","onClick","fetchAPI","number","url","fetch","then","response","ok","json","Promise","reject","Error","ButtonLoadMore","onLoadMore","page","setPage","useEffect","data","hits","btnMore","modalRoot","document","querySelector","Modal","image","close","window","addEventListener","closeByEsc","removeEventListener","code","createPortal","backdrop","largeImageURL","tags","largeImage","selectedIndex","ImageGallery","pictures","setPictures","status","setStatus","currentImage","setCurrentImage","length","catch","error","toast","openModal","currentPic","find","pic","turnOnKeys","keyCode","div","divLoader","color","secondaryColor","position","contentBox","list","map","picture","webformatURL","scrollTo","top","documentElement","scrollHeight","behavior","App","setName","someName","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.23b94a75.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"modal-styles_backdrop__j09gt\",\"largeImage\":\"modal-styles_largeImage__2watK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"common-styles_list__2OEWw\",\"item\":\"common-styles_item__3KEAW\",\"div\":\"common-styles_div__15slB\",\"divLoader\":\"common-styles_divLoader__2jkAN\",\"contentBox\":\"common-styles_contentBox__i8Gls\",\"btnMore\":\"common-styles_btnMore__2mhaq\"};","import { useState } from 'react';\nimport { BiSearch } from 'react-icons/bi';\nimport s from './searchBar-styles.module.css';\n\nconst SearchBar = function ({ onSubmit }) {\n  const [value, setValue] = useState('');\n\n  const handleChange = event => {\n    const { value } = event.target;\n    setValue(value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (value.trim() === '') {\n      alert('Enter a word');\n      return;\n    }\n    onSubmit(value.trim());\n    setValue('');\n  };\n\n  return (\n    <header className={s.header}>\n      <form onSubmit={handleSubmit} className={s.form}>\n        <button type=\"submit\" className={s.btn}>\n          <span>\n            <BiSearch />\n          </span>\n        </button>\n\n        <input\n          name=\"name\"\n          className={s.search}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n          value={value}\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default SearchBar;\n","import s from './common-styles.module.css';\n\nconst ImageGalleryItem = function ({ src, alt, id, click }) {\n  return (\n    <li className={s.item}>\n      <img\n        src={src}\n        alt={alt}\n        className={s.img}\n        height=\"196px\"\n        width=\"270px\"\n        onClick={click}\n        id={id}\n        // longdesc={this.props.large}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","const fetchAPI = function (value, number) {\n  const options = {\n    headers: {\n      API_KEY: '22346154-3962a348b9ad97506a5be6443',\n    },\n  };\n  const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${value}&page=${number}&per_page=12&key=${options.headers.API_KEY}`;\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`По запросу ${value} ничего не найдено (this is in reject)`),\n    );\n  });\n};\n\nexport default fetchAPI;\n","import { useState, useEffect } from 'react';\nimport s from '../gallery/common-styles.module.css';\nimport fetchAPI from '../../services/fetchAPI';\n\nconst ButtonLoadMore = function ({ name, onLoadMore }) {\n  let [page, setPage] = useState(1);\n\n  useEffect(() => {\n    if (page === 1) {\n      return;\n    }\n\n    fetchAPI(name, page).then(data => onLoadMore(data.hits)); // eslint-disable-next-line\n  }, [page]);\n\n  useEffect(() => {\n    setPage(1);\n  }, [name]);\n\n  return (\n    <button type=\"button\" className={s.btnMore} onClick={() => setPage(++page)}>\n      Load more\n    </button>\n  );\n};\n\nexport default ButtonLoadMore;\n","import { useEffect } from 'react';\nimport s from './modal-styles.module.css';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector(`#modal-root`);\n\nconst Modal = function ({ image, close }) {\n  useEffect(() => {\n    window.addEventListener('keydown', closeByEsc);\n    return () => {\n      window.removeEventListener('keydown', closeByEsc);\n    }; // eslint-disable-next-line\n  }, [image]);\n\n  const closeByEsc = event => {\n    if (event.code === 'Escape') {\n      return close();\n    }\n  };\n\n  const closeByBackdrop = event => {\n    if (event.target.src) {\n      return;\n    }\n    close();\n  };\n\n  return createPortal(\n    <div className={s.backdrop} onClick={closeByBackdrop}>\n      <img\n        src={image.largeImageURL}\n        alt={image.tags}\n        width=\"600px\"\n        className={s.largeImage}\n      />\n    </div>,\n    modalRoot,\n  );\n};\n\nexport default Modal;\n","import s from './common-styles.module.css';\nimport { useState, useEffect } from 'react';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport Loader from 'react-loader-spinner';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport fetchAPI from '../../services/fetchAPI';\nimport ButtonLoadMore from '../load-more/ButtonLoadMore';\nimport Modal from '../modal-window/Modal';\n\nlet selectedIndex = null;\n\nconst ImageGallery = function ({ name }) {\n  const [pictures, setPictures] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [currentImage, setCurrentImage] = useState(null);\n\n  useEffect(() => {\n    if (name === '' || null || undefined) {\n      return;\n    }\n\n    setStatus('pending');\n\n    fetchAPI(name, 1)\n      .then(({ hits }) => {\n        if (hits.length > 0) {\n          setPictures(hits);\n          setStatus('resolved');\n        } else throw new Error(`По запросу ${name} ничего не найдено`);\n      })\n      .catch(error => {\n        setStatus('rejected');\n        toast.error('No results were found for your search!');\n      });\n  }, [name]);\n\n  const getMorePictures = data => {\n    setPictures(pictures => [...pictures, ...data]);\n\n    return window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const openModal = event => {\n    const currentPic = pictures.find(pic => pic.id === +event.target.id);\n    setCurrentImage(currentPic);\n  };\n\n  const closeModal = event => {\n    setCurrentImage(null);\n  };\n\n  useEffect(() => {\n    if (currentImage) {\n      window.addEventListener('keydown', turnOnKeys);\n    }\n\n    return () => {\n      window.removeEventListener('keydown', turnOnKeys);\n    }; // eslint-disable-next-line\n  }, [currentImage]);\n\n  const turnOnKeys = event => {\n    if (event.keyCode === 39) {\n      selectedIndex =\n        selectedIndex === pictures.length - 1 ? 0 : selectedIndex + 1;\n      return setCurrentImage(pictures[selectedIndex]);\n    }\n\n    if (event.keyCode === 37) {\n      selectedIndex =\n        selectedIndex === 0 ? pictures.length - 1 : selectedIndex - 1;\n      return setCurrentImage(pictures[selectedIndex]);\n    }\n  };\n\n  return (\n    <div>\n      {currentImage && <Modal close={closeModal} image={currentImage} />}\n      {pictures === null && <p className={s.div}>Enter somethimg</p>}\n      {status === 'pending' && (\n        <div className={s.divLoader}>\n          <Loader\n            type=\"MutatingDots\"\n            color=\"#0b6470\"\n            secondaryColor=\"rgb(72, 163, 185)\"\n            height={100}\n            width={100}\n          />\n        </div>\n      )}\n      {status === 'rejected' && <ToastContainer position=\"top-center\" />}\n      {status === 'resolved' && (\n        <div className={s.contentBox}>\n          <ul className={s.list}>\n            {pictures.map(picture => (\n              <ImageGalleryItem\n                src={picture.webformatURL}\n                alt={picture.tags}\n                key={picture.id}\n                click={openModal}\n                id={picture.id}\n              />\n            ))}\n          </ul>\n          <ButtonLoadMore name={name} onLoadMore={getMorePictures} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ImageGallery;\n","import './App.css';\nimport { useState } from 'react';\nimport Searchbar from './components/search-bar/SearchBar';\nimport ImageGallery from './components/gallery/ImageGallery';\n\nfunction App() {\n  const [name, setName] = useState('');\n\n  const handleFormSubmit = someName => {\n    setName(someName);\n  };\n\n  return (\n    <div>\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery name={name} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"searchBar-styles_header__2gL2c\",\"form\":\"searchBar-styles_form__2gW6Z\",\"search\":\"searchBar-styles_search__3PEdg\",\"btn\":\"searchBar-styles_btn__2bsup\"};"],"sourceRoot":""}